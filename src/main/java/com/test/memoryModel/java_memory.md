## java内存模型中的概念理解
### 顺序一致性内存模型
&ensp;顺序一致性内存模型是一个理想化的模型有两大特性  
1. 一个线程中的所有操作都是按照程序书写的顺序执行
2. 不管线程是否同步，所有线程只能看到一个单一的操作执行顺序每个操作必须原子执行且立刻对所有线程可见  
举例:  
线程a有三个操作  
a1 a2 a3  
线程b有三个操作  
b1 b2 b3  
在未同步的情况下（有很多中情况但是两个线程各自的执行顺序不变）   
a1 b1 b2 a2 a3 b3  
在同步的情况下  
a1 a2 a3 b1 b2 b3  
b1 b2 b3a1 a2 a3

### 数据竞争的定义
* 在一个线程中写一个变量
* 在另一线程中读一个变量
* 而且读和写没有通过同步来排序

### 常用的同步原语
* synchronized
* volatile
* final
### 未同步程序在JMM和顺序一致性模型中所表现的差异
1. 顺序一致性模型保证单线程内的操作会按程序的顺序执行，而JMM不保证单线程内的操作会按程序的顺序执行（因为JMM会在临界区内进行重排序，为了优化执行）
2. 顺序一致性模型保证所有线程只能看到一致的操作执行顺序，而JMM不保证所有线程能看到一致的操作执行顺序（因为JMM读数据的读取会  
现在缓冲区内进行操作，然后才刷新到主内存，这样就存在可见性问题，而顺序一致性模型对内存的操作是具有原子性的，操作对其它线程立刻可见）
3. JMM不保证对64位的long型和double型变量的读/写操作具有原子性而顺序一致性模型保证对所有的内存读/写操作都具有原子性。